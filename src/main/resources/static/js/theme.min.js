"use strict";
var theme = {
  init: function () {
    theme.otpVarification(),
      theme.checkbox(),
      theme.alertJS(),
      theme.popovers(),
      theme.tooltip(),
      theme.validation(),
      theme.toast(),
      theme.sidbarNav(),
      theme.search();
  },
  search: () => {
    document.addEventListener("DOMContentLoaded", () => {
      const e = () => {
          const e = document
            .getElementById("globalSearchInput")
            .value.toLowerCase();
          document.querySelectorAll(".modal-body li").forEach((t) => {
            const o = t.textContent.toLowerCase();
            t.style.display = o.includes(e) ? "" : "none";
          });
        },
        t = document.getElementById("globalSearchInput");
      t && t.addEventListener("keyup", e);
    });
  },
  sidbarNav: () => {
    const e = document.querySelectorAll(".sidebar-nav-fixed a");
    e.length &&
      e.forEach((t) => {
        t.addEventListener("click", function (t) {
          const o = location.pathname.replace(/^\//, ""),
            a = this.pathname.replace(/^\//, ""),
            n = location.hostname;
          if (o === a && n === this.hostname) {
            let e = document.querySelector(this.hash);
            e || (e = document.querySelector(`[name="${this.hash.slice(1)}"]`)),
              e &&
                (t.preventDefault(),
                window.scrollTo({ top: e.offsetTop - 90, behavior: "smooth" }),
                e.setAttribute("tabindex", "-1"),
                e.focus({ preventScroll: !0 }));
          }
          e.forEach((e) => e.classList.remove("active")),
            this.classList.add("active");
        });
      });
  },
  alertJS: () => {
    const e = document.getElementById("liveAlertPlaceholder"),
      t = document.getElementById("liveAlertBtn");
    t &&
      t.addEventListener("click", () => {
        ((t, o) => {
          const a = document.createElement("div");
          (a.innerHTML = [
            `<div class="alert alert-${o} alert-dismissible" role="alert">`,
            `   <div>${t}</div>`,
            '   <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>',
            "</div>",
          ].join("")),
            e.append(a);
        })("Nice, you triggered this alert message!", "success");
      });
  },
  popovers: () => {
    [...document.querySelectorAll('[data-bs-toggle="popover"]')].map(
      (e) => new bootstrap.Popover(e)
    );
  },
  tooltip: () => {
    [...document.querySelectorAll('[data-bs-toggle="tooltip"]')].map(
      (e) => new bootstrap.Tooltip(e)
    );
  },
  validation: () => {
    const e = document.querySelectorAll(".needs-validation");
    Array.from(e).forEach((e) => {
      e.addEventListener(
        "submit",
        (t) => {
          e.checkValidity() || (t.preventDefault(), t.stopPropagation()),
            e.classList.add("was-validated");
        },
        !1
      );
    });
  },
  toast: () => {
    const e = document.getElementById("liveToastBtn"),
      t = document.getElementById("liveToast");
    if (e) {
      const o = bootstrap.Toast.getOrCreateInstance(t);
      e.addEventListener("click", () => {
        o.show();
      });
    }
  },
  otpVarification: () => {
    document.moveToNextInput = function (e) {
      if (e.value.length === e.maxLength) {
        const t = Array.from(e.parentElement.children).indexOf(e),
          o = e.parentElement.children[t + 1];
        o && o.focus();
      }
    };
  },
  checkbox: () => {
    document.querySelectorAll('[data-indeterminate="true"]').forEach((e) => {
      e.indeterminate = !0;
    });
  },
};
theme.init();
