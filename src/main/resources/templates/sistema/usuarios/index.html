<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head th:replace="~{fragments/head :: head(pageTitle='Gestión de Usuarios')}"></head>

<body>
    <div th:replace="~{fragments/sidebar :: sidebar}"></div>

    <!-- Contenido Principal -->
    <main id="content">
        <div th:replace="~{fragments/header :: header}"></div>
        <div th:replace="~{fragments/search-modal :: searchModal}"></div>
        <div th:replace="~{fragments/notification-panel :: notificationPanel}"></div>

        <div class="custom-container flex-grow-1 d-flex flex-column pb-4">
            <div th:replace="~{sistema/usuarios/usuarios-content :: content}"></div>
        </div>

    </main>

    <th:block th:replace="~{fragments/scripts :: scripts}"></th:block>

    <!-- Contenedor de mensajes Flash para los toasts -->
    <div id="flash-messages" style="display: none;"
        th:attr="data-success=${success}, data-error=${error}, data-warning=${warning}, data-info=${info}, data-error-usuario-id=${errorUsuarioId}, data-modal-crear-error=${modalCrearError}, data-error-usuario-delete-id=${errorUsuarioDeleteId}, data-error-usuario-delete-nombre=${errorUsuarioDeleteNombre}">
    </div>

    <!-- Configuración Global de Paginación para JS -->
    <script th:inline="javascript">
        /*<![CDATA[*/
        window.APP_CONFIG = { pagination: { defaultSize: /*[[${defaultPageSize}]]*/ 10 } };
        /*]]>*/
    </script>
    <!-- Scripts comunes (toasts) -->
    <script th:src="@{/js/common/toasts.js}"></script>

    <!-- Scripts específicos del módulo de Usuarios -->
    <script th:src="@{/js/usuarios/table.js}"></script>
    <script th:src="@{/js/usuarios/modals.js}"></script>

</body>

</html>